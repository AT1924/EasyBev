{"ast":null,"code":"var _jsxFileName = \"/Users/benjaminedeckey/Desktop/EasyBev/easy-bev-app/src/components/BarcodeScanner.js\";\nimport Dynamsoft from \"../Dynamsoft\";\nimport React from 'react';\nimport '../style/BarcodeScanner.css';\n\nclass BarcodeScanner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.bDestroyed = false;\n    this.scanner = null;\n    this.elRef = React.createRef();\n  }\n\n  async componentDidMount() {\n    try {\n      this.scanner = this.scanner || (await Dynamsoft.BarcodeScanner.createInstance());\n\n      if (this.bDestroyed) {\n        this.scanner.destroy();\n        return;\n      }\n\n      this.scanner.setUIElement(this.elRef.current);\n\n      this.scanner.onFrameRead = results => {\n        if (results.length) {\n          console.log(results);\n        }\n      };\n\n      this.scanner.onUnduplicatedRead = (txt, result) => {\n        this.props.appendMessage(result.barcodeFormatString + ': ' + txt);\n      };\n\n      await this.scanner.open();\n\n      if (this.bDestroyed) {\n        this.scanner.destroy();\n        return;\n      }\n    } catch (ex) {\n      this.props.appendMessage(ex.message);\n      console.error(ex);\n    }\n  }\n\n  componentWillUnmount() {\n    this.bDestroyed = true;\n\n    if (this.scanner) {\n      this.scanner.destroy();\n    }\n  }\n\n  shouldComponentUpdate() {\n    // Never update UI after mount, dbrjs sdk use native way to bind event, update will remove it.\n    return false;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      ref: this.elRef,\n      className: \"component-barcode-scanner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      className: \"dbrScanner-bg-loading\",\n      viewBox: \"0 0 1792 1792\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M1760 896q0 176-68.5 336t-184 275.5-275.5 184-336 68.5-336-68.5-275.5-184-184-275.5-68.5-336q0-213 97-398.5t265-305.5 374-151v228q-221 45-366.5 221t-145.5 406q0 130 51 248.5t136.5 204 204 136.5 248.5 51 248.5-51 204-136.5 136.5-204 51-248.5q0-230-145.5-406t-366.5-221v-228q206 31 374 151t265 305.5 97 398.5z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })), React.createElement(\"svg\", {\n      className: \"dbrScanner-bg-camera\",\n      style: {\n        display: \"none\"\n      },\n      viewBox: \"0 0 2048 1792\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M1024 672q119 0 203.5 84.5t84.5 203.5-84.5 203.5-203.5 84.5-203.5-84.5-84.5-203.5 84.5-203.5 203.5-84.5zm704-416q106 0 181 75t75 181v896q0 106-75 181t-181 75h-1408q-106 0-181-75t-75-181v-896q0-106 75-181t181-75h224l51-136q19-49 69.5-84.5t103.5-35.5h512q53 0 103.5 35.5t69.5 84.5l51 136h224zm-704 1152q185 0 316.5-131.5t131.5-316.5-131.5-316.5-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"video\", {\n      className: \"dbrScanner-video\",\n      playsInline: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"canvas\", {\n      className: \"dbrScanner-cvs-drawarea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"dbrScanner-cvs-scanarea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dbrScanner-scanlight\",\n      style: {\n        display: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(\"select\", {\n      className: \"dbrScanner-sel-camera\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      className: \"dbrScanner-sel-resolution\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default BarcodeScanner;","map":{"version":3,"sources":["/Users/benjaminedeckey/Desktop/EasyBev/easy-bev-app/src/components/BarcodeScanner.js"],"names":["Dynamsoft","React","BarcodeScanner","Component","constructor","props","bDestroyed","scanner","elRef","createRef","componentDidMount","createInstance","destroy","setUIElement","current","onFrameRead","results","length","console","log","onUnduplicatedRead","txt","result","appendMessage","barcodeFormatString","open","ex","message","error","componentWillUnmount","shouldComponentUpdate","render","display"],"mappings":"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","sourcesContent":["import Dynamsoft from \"../Dynamsoft\";\nimport React from 'react';\nimport '../style/BarcodeScanner.css';\n\nclass BarcodeScanner extends React.Component {\n    constructor(props){\n        super(props);\n        this.bDestroyed = false;\n        this.scanner = null;\n        this.elRef = React.createRef();\n    }\n    async componentDidMount(){\n        try{\n            this.scanner = this.scanner || await Dynamsoft.BarcodeScanner.createInstance();\n\n            if(this.bDestroyed){\n                this.scanner.destroy();\n                return;\n            }\n\n            this.scanner.setUIElement(this.elRef.current);\n            this.scanner.onFrameRead = results => {\n                if(results.length){\n                    console.log(results);\n                }\n            };\n            this.scanner.onUnduplicatedRead = (txt, result) => {\n                this.props.appendMessage(result.barcodeFormatString + ': ' + txt);\n            };\n            await this.scanner.open();\n\n            if(this.bDestroyed){\n                this.scanner.destroy();\n                return;\n            }\n\n        }catch(ex){\n            this.props.appendMessage(ex.message);\n            console.error(ex);\n        }\n    }\n    componentWillUnmount(){\n        this.bDestroyed = true;\n        if(this.scanner){\n            this.scanner.destroy();\n        }\n    }\n    shouldComponentUpdate(){\n        // Never update UI after mount, dbrjs sdk use native way to bind event, update will remove it.\n        return false;\n    }\n    render() {\n        return (\n            <div ref={this.elRef} className=\"component-barcode-scanner\">\n                <svg className=\"dbrScanner-bg-loading\" viewBox=\"0 0 1792 1792\"><path d=\"M1760 896q0 176-68.5 336t-184 275.5-275.5 184-336 68.5-336-68.5-275.5-184-184-275.5-68.5-336q0-213 97-398.5t265-305.5 374-151v228q-221 45-366.5 221t-145.5 406q0 130 51 248.5t136.5 204 204 136.5 248.5 51 248.5-51 204-136.5 136.5-204 51-248.5q0-230-145.5-406t-366.5-221v-228q206 31 374 151t265 305.5 97 398.5z\"></path></svg>\n                <svg className=\"dbrScanner-bg-camera\" style={{display:\"none\"}} viewBox=\"0 0 2048 1792\"><path d=\"M1024 672q119 0 203.5 84.5t84.5 203.5-84.5 203.5-203.5 84.5-203.5-84.5-84.5-203.5 84.5-203.5 203.5-84.5zm704-416q106 0 181 75t75 181v896q0 106-75 181t-181 75h-1408q-106 0-181-75t-75-181v-896q0-106 75-181t181-75h224l51-136q19-49 69.5-84.5t103.5-35.5h512q53 0 103.5 35.5t69.5 84.5l51 136h224zm-704 1152q185 0 316.5-131.5t131.5-316.5-131.5-316.5-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5z\"></path></svg>\n                <video className=\"dbrScanner-video\" playsInline={true}></video>\n                <canvas className=\"dbrScanner-cvs-drawarea\"></canvas>\n                <div className=\"dbrScanner-cvs-scanarea\">\n                    <div className=\"dbrScanner-scanlight\" style={{display:\"none\"}}></div>\n                </div>\n                <select className=\"dbrScanner-sel-camera\"></select>\n                <select className=\"dbrScanner-sel-resolution\"></select>\n            </div>\n        );\n    }\n}\n\nexport default BarcodeScanner;\n"]},"metadata":{},"sourceType":"module"}